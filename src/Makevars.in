CXX_STD = CXX20

## Compiler flags/defines:
PKG_CPPFLAGS = @PKG_CPPFLAGS@ 
PKG_LIBS = @PKG_LIBS@
PKG_CXXFLAGS = @DEFINES@ @PKG_CXXFLAGS@

## Files to compile:
SOURCES=@DIR_SOURCES@ @SUBDIR_SOURCES@ @EXT_C_SOURCES@ @EXT_CPP_SOURCES@ @PBRT_SOURCES@
OBJECTS=$(SOURCES:.cpp=.o) 

# Silence warnings about symbols with different visibilities
SHLIB_LDFLAGS += -Wl,-exported_symbol,_R_init_rayrender \
                 -Wl,-exported_symbol,_R_unload_rayrender

# Make the shared object
all: $(SHLIB)

$(SHLIB): $(OBJECTS)

## Clean up object files:
clean:
	@rm -f $(OBJECTS)