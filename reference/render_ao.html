<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Render Ambient Occlusion — render_ao • rayrender</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Render Ambient Occlusion — render_ao"><meta property="og:description" content="Takes the scene description and renders an image using ambient occlusion, 
either to the device or to a filename."><meta property="og:image" content="/reference/figures/website_rayrender.jpg"><meta property="og:image:alt" content="Picture of a golden 3D ggplot with a description of rayrender"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@tylermorganwall"><meta name="twitter:site" content="@tylermorganwall"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rayrender</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.29.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tutorials/Demos
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://www.tylermw.com/polar-ice-data-in-r-with-rayrender/" class="external-link">How to Download and Animate Polar Ice Data in R with Rayrender</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/plinko-statistics-insights-from-the-bean-machine/" class="external-link">Plinko Statistics-Insights from the Bean Machine</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/loading-and-visualizing-opensky-network-data-in-r/" class="external-link">Loading and Visualizing OpenSky Network Flight Data in R</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/raybonsai-generate-procedural-3d-trees-in-r/" class="external-link">Generating Procedural 3D Trees with Raybonsai and Rayrender</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/pathtracing-neon-landscapes-in-r/" class="external-link">Pathtracing Neon Landscapes in R</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/raytracing-lenticular-gifs/" class="external-link">Raytracing Lenticular Gifs with rayrender</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/getting-started-with-rayrender/" class="external-link">Getting Stated with Rayrender--Forging the R Sword</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/tylermorganwall/rayrender" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Render Ambient Occlusion</h1>
    <small class="dont-index">Source: <a href="https://github.com/tylermorganwall/rayrender/blob/HEAD/R/render_ao.R" class="external-link"><code>R/render_ao.R</code></a></small>
    <div class="hidden name"><code>render_ao.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Takes the scene description and renders an image using ambient occlusion, 
either to the device or to a filename.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">render_ao</span><span class="op">(</span></span>
<span>  <span class="va">scene</span>,</span>
<span>  width <span class="op">=</span> <span class="fl">400</span>,</span>
<span>  height <span class="op">=</span> <span class="fl">400</span>,</span>
<span>  fov <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  sample_dist <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  keep_colors <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  samples <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  camera_description_file <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  camera_scale <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  iso <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  film_size <span class="op">=</span> <span class="fl">22</span>,</span>
<span>  min_variance <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  min_adaptive_size <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  sample_method <span class="op">=</span> <span class="st">"sobol"</span>,</span>
<span>  background_color <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>  lookfrom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  lookat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  camera_up <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  aperture <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  clamp_value <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  filename <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  shutteropen <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  shutterclose <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  focal_distance <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ortho_dimensions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  bvh_type <span class="op">=</span> <span class="st">"sah"</span>,</span>
<span>  progress <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>scene</dt>
<dd><p>Tibble of object locations and properties.</p></dd>


<dt>width</dt>
<dd><p>Default `400`. Width of the render, in pixels.</p></dd>


<dt>height</dt>
<dd><p>Default `400`. Height of the render, in pixels.</p></dd>


<dt>fov</dt>
<dd><p>Default `20`. Field of view, in degrees. If this is `0`, the camera will use an orthographic projection. The size of the plane
used to create the orthographic projection is given in argument `ortho_dimensions`. From `0` to `180`, this uses a perspective
projections. If this value is `360`, a 360 degree environment image will be rendered.</p></dd>


<dt>sample_dist</dt>
<dd><p>Default `10`. Ambient occlusion sampling distance.</p></dd>


<dt>keep_colors</dt>
<dd><p>Default `FALSE`. Whether to keep the diffuse material colors.</p></dd>


<dt>samples</dt>
<dd><p>Default `100`. The maximum number of samples for each pixel. If this is a length-2
vector and the `sample_method` is `stratified`, this will control the number of strata in each dimension.
The total number of samples in this case will be the product of the two numbers.</p></dd>


<dt>camera_description_file</dt>
<dd><p>Default `NA`. Filename of a camera description file for rendering with
a realistic camera. Several camera files are built-in: `"50mm"`,`"wide"`,`"fisheye"`, and `"telephoto"`.</p></dd>


<dt>camera_scale</dt>
<dd><p>Default `1`. Amount to scale the camera up or down in size. Use this rather than scaling a 
scene.</p></dd>


<dt>iso</dt>
<dd><p>Default `100`. Camera exposure.</p></dd>


<dt>film_size</dt>
<dd><p>Default `22`, in `mm` (scene units in `m`. Size of the film if using a realistic camera, otherwise
ignored.</p></dd>


<dt>min_variance</dt>
<dd><p>Default `0.00005`. Minimum acceptable variance for a block of pixels for the 
adaptive sampler. Smaller numbers give higher quality images, at the expense of longer rendering times.
If this is set to zero, the adaptive sampler will be turned off and the renderer
will use the maximum number of samples everywhere.</p></dd>


<dt>min_adaptive_size</dt>
<dd><p>Default `8`. Width of the minimum block size in the adaptive sampler.</p></dd>


<dt>sample_method</dt>
<dd><p>Default `sobol`. The type of sampling method used to generate
random numbers. The other options are `random` (worst quality but fastest), 
`stratified` (only implemented for completion), `sobol_blue` (best option for sample counts below 256), 
and `sobol` (slowest but best quality, better than `sobol_blue` for sample counts greater than 256).</p></dd>


<dt>background_color</dt>
<dd><p>Default `"white"`. Background color.</p></dd>


<dt>lookfrom</dt>
<dd><p>Default `c(0,1,10)`. Location of the camera.</p></dd>


<dt>lookat</dt>
<dd><p>Default `c(0,0,0)`. Location where the camera is pointed.</p></dd>


<dt>camera_up</dt>
<dd><p>Default `c(0,1,0)`. Vector indicating the "up" position of the camera.</p></dd>


<dt>aperture</dt>
<dd><p>Default `0.1`. Aperture of the camera. Smaller numbers will increase depth of field, causing
less blurring in areas not in focus.</p></dd>


<dt>clamp_value</dt>
<dd><p>Default `Inf`. If a bright light or a reflective material is in the scene, occasionally
there will be bright spots that will not go away even with a large number of samples. These 
can be removed (at the cost of slightly darkening the image) by setting this to a small number greater than 1.</p></dd>


<dt>filename</dt>
<dd><p>Default `NULL`. If present, the renderer will write to the filename instead
of the current device.</p></dd>


<dt>shutteropen</dt>
<dd><p>Default `0`. Time at which the shutter is open. Only affects moving objects.</p></dd>


<dt>shutterclose</dt>
<dd><p>Default `1`. Time at which the shutter is open. Only affects moving objects.</p></dd>


<dt>focal_distance</dt>
<dd><p>Default `NULL`, automatically set to the `lookfrom-lookat` distance unless
otherwise specified.</p></dd>


<dt>ortho_dimensions</dt>
<dd><p>Default `c(1,1)`. Width and height of the orthographic camera. Will only be used if `fov = 0`.</p></dd>


<dt>parallel</dt>
<dd><p>Default `FALSE`. If `TRUE`, it will use all available cores to render the image
(or the number specified in `options("cores")` if that option is not `NULL`).</p></dd>


<dt>bvh_type</dt>
<dd><p>Default `"sah"`, "surface area heuristic". Method of building the bounding volume
hierarchy structure used when rendering. Other option is "equal", which splits tree into groups
of equal size.</p></dd>


<dt>progress</dt>
<dd><p>Default `TRUE` if interactive session, `FALSE` otherwise.</p></dd>


<dt>verbose</dt>
<dd><p>Default `FALSE`. Prints information and timing information about scene
construction and raytracing progress.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Raytraced plot to current device, or an image saved to a file. Invisibly returns the
array (containing either debug data or the RGB)</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#Generate and render a regular scene and an ambient occlusion version of that scene</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayrender</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">angles</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">360</span>,by<span class="op">=</span><span class="fl">36</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">xx</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0.5</span><span class="op">)</span>,<span class="fl">5</span><span class="op">)</span>,<span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html" class="external-link">sinpi</a></span><span class="op">(</span><span class="va">angles</span><span class="op">/</span><span class="fl">180</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">yy</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0.5</span><span class="op">)</span>,<span class="fl">5</span><span class="op">)</span>,<span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html" class="external-link">cospi</a></span><span class="op">(</span><span class="va">angles</span><span class="op">/</span><span class="fl">180</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">star_polygon</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">xx</span>,y<span class="op">=</span><span class="va">yy</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">hollow_star</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">star_polygon</span>,<span class="fl">0.8</span><span class="op">*</span><span class="va">star_polygon</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="generate_ground.html">generate_ground</a></span><span class="op">(</span>material <span class="op">=</span> <span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"grey20"</span>, checkercolor <span class="op">=</span> <span class="st">"grey50"</span>,sigma<span class="op">=</span><span class="fl">90</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="sphere.html">sphere</a></span><span class="op">(</span>material<span class="op">=</span><span class="fu"><a href="metal.html">metal</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="obj_model.html">obj_model</a></span><span class="op">(</span>y<span class="op">=</span><span class="op">-</span><span class="fl">1</span>,x<span class="op">=</span><span class="op">-</span><span class="fl">1.8</span>,<span class="fu"><a href="r_obj.html">r_obj</a></span><span class="op">(</span><span class="op">)</span>, angle<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">135</span>,<span class="fl">0</span><span class="op">)</span>,material <span class="op">=</span> <span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>sigma<span class="op">=</span><span class="fl">90</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="pig.html">pig</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">1.8</span>,y<span class="op">=</span><span class="op">-</span><span class="fl">1.2</span>,scale<span class="op">=</span><span class="fl">0.5</span>,angle<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">90</span>,<span class="fl">0</span><span class="op">)</span>,diffuse_sigma <span class="op">=</span> <span class="fl">90</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="extruded_polygon.html">extruded_polygon</a></span><span class="op">(</span><span class="va">hollow_star</span>,top<span class="op">=</span><span class="op">-</span><span class="fl">0.5</span>,bottom<span class="op">=</span><span class="op">-</span><span class="fl">1</span>, z<span class="op">=</span><span class="op">-</span><span class="fl">2</span>,</span></span>
<span class="r-in"><span>                             hole <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">star_polygon</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                             material<span class="op">=</span><span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"red"</span>,sigma<span class="op">=</span><span class="fl">90</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu"><a href="render_scene.html">render_scene</a></span><span class="op">(</span>parallel <span class="op">=</span> <span class="cn">TRUE</span>,width<span class="op">=</span><span class="fl">800</span>,height<span class="op">=</span><span class="fl">800</span>,</span></span>
<span class="r-in"><span>              fov<span class="op">=</span><span class="fl">70</span>,clamp_value<span class="op">=</span><span class="fl">10</span>,samples<span class="op">=</span><span class="fl">128</span>, aperture<span class="op">=</span><span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>              lookfrom<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.9</span>,<span class="fl">1.2</span>,<span class="op">-</span><span class="fl">4.5</span><span class="op">)</span>,lookat<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="op">-</span><span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="render_ao-1.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayrender</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Render the scene with ambient occlusion</span></span></span>
<span class="r-in"><span><span class="fu"><a href="generate_ground.html">generate_ground</a></span><span class="op">(</span>material <span class="op">=</span> <span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"grey20"</span>, checkercolor <span class="op">=</span> <span class="st">"grey50"</span>,sigma<span class="op">=</span><span class="fl">90</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="sphere.html">sphere</a></span><span class="op">(</span>material<span class="op">=</span><span class="fu"><a href="metal.html">metal</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="obj_model.html">obj_model</a></span><span class="op">(</span>y<span class="op">=</span><span class="op">-</span><span class="fl">1</span>,x<span class="op">=</span><span class="op">-</span><span class="fl">1.8</span>,<span class="fu"><a href="r_obj.html">r_obj</a></span><span class="op">(</span><span class="op">)</span>, angle<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">135</span>,<span class="fl">0</span><span class="op">)</span>,material <span class="op">=</span> <span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>sigma<span class="op">=</span><span class="fl">90</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="pig.html">pig</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">1.8</span>,y<span class="op">=</span><span class="op">-</span><span class="fl">1.2</span>,scale<span class="op">=</span><span class="fl">0.5</span>,angle<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">90</span>,<span class="fl">0</span><span class="op">)</span>,diffuse_sigma <span class="op">=</span> <span class="fl">90</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="extruded_polygon.html">extruded_polygon</a></span><span class="op">(</span><span class="va">hollow_star</span>,top<span class="op">=</span><span class="op">-</span><span class="fl">0.5</span>,bottom<span class="op">=</span><span class="op">-</span><span class="fl">1</span>, z<span class="op">=</span><span class="op">-</span><span class="fl">2</span>,</span></span>
<span class="r-in"><span>                             hole <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">star_polygon</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                             material<span class="op">=</span><span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"red"</span>,sigma<span class="op">=</span><span class="fl">90</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu">render_ao</span><span class="op">(</span>parallel <span class="op">=</span> <span class="cn">TRUE</span>,width<span class="op">=</span><span class="fl">800</span>,height<span class="op">=</span><span class="fl">800</span>, sample_dist<span class="op">=</span><span class="fl">10</span>,</span></span>
<span class="r-in"><span>           fov<span class="op">=</span><span class="fl">70</span>,samples<span class="op">=</span><span class="fl">128</span>, aperture<span class="op">=</span><span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>           lookfrom<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.9</span>,<span class="fl">1.2</span>,<span class="op">-</span><span class="fl">4.5</span><span class="op">)</span>,lookat<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="op">-</span><span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="op">}</span></span></span>
<span class="r-plt img"><img src="render_ao-2.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayrender</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">#Decrease the ray occlusion search distance</span></span></span>
<span class="r-in"><span><span class="fu"><a href="generate_ground.html">generate_ground</a></span><span class="op">(</span>material <span class="op">=</span> <span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"grey20"</span>, checkercolor <span class="op">=</span> <span class="st">"grey50"</span>,sigma<span class="op">=</span><span class="fl">90</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="sphere.html">sphere</a></span><span class="op">(</span>material<span class="op">=</span><span class="fu"><a href="metal.html">metal</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="obj_model.html">obj_model</a></span><span class="op">(</span>y<span class="op">=</span><span class="op">-</span><span class="fl">1</span>,x<span class="op">=</span><span class="op">-</span><span class="fl">1.8</span>,<span class="fu"><a href="r_obj.html">r_obj</a></span><span class="op">(</span><span class="op">)</span>, angle<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">135</span>,<span class="fl">0</span><span class="op">)</span>,material <span class="op">=</span> <span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>sigma<span class="op">=</span><span class="fl">90</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="pig.html">pig</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">1.8</span>,y<span class="op">=</span><span class="op">-</span><span class="fl">1.2</span>,scale<span class="op">=</span><span class="fl">0.5</span>,angle<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">90</span>,<span class="fl">0</span><span class="op">)</span>,diffuse_sigma <span class="op">=</span> <span class="fl">90</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="extruded_polygon.html">extruded_polygon</a></span><span class="op">(</span><span class="va">hollow_star</span>,top<span class="op">=</span><span class="op">-</span><span class="fl">0.5</span>,bottom<span class="op">=</span><span class="op">-</span><span class="fl">1</span>, z<span class="op">=</span><span class="op">-</span><span class="fl">2</span>,</span></span>
<span class="r-in"><span>                             hole <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">star_polygon</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                             material<span class="op">=</span><span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"red"</span>,sigma<span class="op">=</span><span class="fl">90</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu">render_ao</span><span class="op">(</span>parallel <span class="op">=</span> <span class="cn">TRUE</span>,width<span class="op">=</span><span class="fl">800</span>,height<span class="op">=</span><span class="fl">800</span>, sample_dist<span class="op">=</span><span class="fl">1</span>,</span></span>
<span class="r-in"><span>           fov<span class="op">=</span><span class="fl">70</span>,samples<span class="op">=</span><span class="fl">128</span>, aperture<span class="op">=</span><span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>           lookfrom<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.9</span>,<span class="fl">1.2</span>,<span class="op">-</span><span class="fl">4.5</span><span class="op">)</span>,lookat<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="op">-</span><span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="render_ao-3.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayrender</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">#Turn on colors</span></span></span>
<span class="r-in"><span><span class="fu"><a href="generate_ground.html">generate_ground</a></span><span class="op">(</span>material <span class="op">=</span> <span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"grey20"</span>, checkercolor <span class="op">=</span> <span class="st">"grey50"</span>,sigma<span class="op">=</span><span class="fl">90</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="sphere.html">sphere</a></span><span class="op">(</span>material<span class="op">=</span><span class="fu"><a href="metal.html">metal</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="obj_model.html">obj_model</a></span><span class="op">(</span>y<span class="op">=</span><span class="op">-</span><span class="fl">1</span>,x<span class="op">=</span><span class="op">-</span><span class="fl">1.8</span>,<span class="fu"><a href="r_obj.html">r_obj</a></span><span class="op">(</span><span class="op">)</span>, angle<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">135</span>,<span class="fl">0</span><span class="op">)</span>,material <span class="op">=</span> <span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>sigma<span class="op">=</span><span class="fl">90</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="pig.html">pig</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">1.8</span>,y<span class="op">=</span><span class="op">-</span><span class="fl">1.2</span>,scale<span class="op">=</span><span class="fl">0.5</span>,angle<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">90</span>,<span class="fl">0</span><span class="op">)</span>,diffuse_sigma <span class="op">=</span> <span class="fl">90</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="extruded_polygon.html">extruded_polygon</a></span><span class="op">(</span><span class="va">hollow_star</span>,top<span class="op">=</span><span class="op">-</span><span class="fl">0.5</span>,bottom<span class="op">=</span><span class="op">-</span><span class="fl">1</span>, z<span class="op">=</span><span class="op">-</span><span class="fl">2</span>,</span></span>
<span class="r-in"><span>                             hole <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">star_polygon</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                             material<span class="op">=</span><span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"red"</span>,sigma<span class="op">=</span><span class="fl">90</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu">render_ao</span><span class="op">(</span>parallel <span class="op">=</span> <span class="cn">TRUE</span>,width<span class="op">=</span><span class="fl">800</span>,height<span class="op">=</span><span class="fl">800</span>, sample_dist<span class="op">=</span><span class="fl">1</span>,</span></span>
<span class="r-in"><span>           fov<span class="op">=</span><span class="fl">70</span>,samples<span class="op">=</span><span class="fl">128</span>, aperture<span class="op">=</span><span class="fl">0.1</span>, keep_colors <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>           lookfrom<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.9</span>,<span class="fl">1.2</span>,<span class="op">-</span><span class="fl">4.5</span><span class="op">)</span>,lookat<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="op">-</span><span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="render_ao-4.png" alt="" width="768" height="768"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://www.tylermw.com" class="external-link">Tyler Morgan-Wall</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

