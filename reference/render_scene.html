<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Render Scene — render_scene • rayrender</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Render Scene — render_scene"><meta property="og:description" content="Takes the scene description and renders an image, either to the device or to a filename. The
user can also interactively fly around the 3D scene if they have X11 support on their system
or are on Windows."><meta property="og:image" content="/reference/figures/website_rayrender.jpg"><meta property="og:image:alt" content="Picture of a golden 3D ggplot with a description of rayrender"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@tylermorganwall"><meta name="twitter:site" content="@tylermorganwall"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rayrender</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.29.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tutorials/Demos
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://www.tylermw.com/polar-ice-data-in-r-with-rayrender/" class="external-link">How to Download and Animate Polar Ice Data in R with Rayrender</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/plinko-statistics-insights-from-the-bean-machine/" class="external-link">Plinko Statistics-Insights from the Bean Machine</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/loading-and-visualizing-opensky-network-data-in-r/" class="external-link">Loading and Visualizing OpenSky Network Flight Data in R</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/raybonsai-generate-procedural-3d-trees-in-r/" class="external-link">Generating Procedural 3D Trees with Raybonsai and Rayrender</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/pathtracing-neon-landscapes-in-r/" class="external-link">Pathtracing Neon Landscapes in R</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/raytracing-lenticular-gifs/" class="external-link">Raytracing Lenticular Gifs with rayrender</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/getting-started-with-rayrender/" class="external-link">Getting Stated with Rayrender--Forging the R Sword</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/tylermorganwall/rayrender" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Render Scene</h1>
    <small class="dont-index">Source: <a href="https://github.com/tylermorganwall/rayrender/blob/HEAD/R/render_scene.R" class="external-link"><code>R/render_scene.R</code></a></small>
    <div class="hidden name"><code>render_scene.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Takes the scene description and renders an image, either to the device or to a filename. The
user can also interactively fly around the 3D scene if they have X11 support on their system
or are on Windows.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">render_scene</span><span class="op">(</span></span>
<span>  <span class="va">scene</span>,</span>
<span>  width <span class="op">=</span> <span class="fl">400</span>,</span>
<span>  height <span class="op">=</span> <span class="fl">400</span>,</span>
<span>  fov <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  samples <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  camera_description_file <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  preview <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  interactive <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  camera_scale <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  iso <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  film_size <span class="op">=</span> <span class="fl">22</span>,</span>
<span>  min_variance <span class="op">=</span> <span class="fl">5e-05</span>,</span>
<span>  min_adaptive_size <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  sample_method <span class="op">=</span> <span class="st">"sobol"</span>,</span>
<span>  max_depth <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  roulette_active_depth <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  ambient_light <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lookfrom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  lookat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  camera_up <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  aperture <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  clamp_value <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  filename <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  backgroundhigh <span class="op">=</span> <span class="st">"#80b4ff"</span>,</span>
<span>  backgroundlow <span class="op">=</span> <span class="st">"#ffffff"</span>,</span>
<span>  shutteropen <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  shutterclose <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  focal_distance <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ortho_dimensions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  tonemap <span class="op">=</span> <span class="st">"gamma"</span>,</span>
<span>  bloom <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  bvh_type <span class="op">=</span> <span class="st">"sah"</span>,</span>
<span>  environment_light <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rotate_env <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  intensity_env <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  debug_channel <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>  return_raw_array <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  progress <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  new_page <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>scene</dt>
<dd><p>Tibble of object locations and properties.</p></dd>


<dt>width</dt>
<dd><p>Default `400`. Width of the render, in pixels.</p></dd>


<dt>height</dt>
<dd><p>Default `400`. Height of the render, in pixels.</p></dd>


<dt>fov</dt>
<dd><p>Default `20`. Field of view, in degrees. If this is `0`, the camera will use an orthographic projection. The size of the plane
used to create the orthographic projection is given in argument `ortho_dimensions`. From `0` to `180`, this uses a perspective
projections. If this value is `360`, a 360 degree environment image will be rendered.</p></dd>


<dt>samples</dt>
<dd><p>Default `100`. The maximum number of samples for each pixel. If this is a length-2
vector and the `sample_method` is `stratified`, this will control the number of strata in each dimension.
The total number of samples in this case will be the product of the two numbers.</p></dd>


<dt>camera_description_file</dt>
<dd><p>Default `NA`. Filename of a camera description file for rendering with
a realistic camera. Several camera files are built-in: `"50mm"`,`"wide"`,`"fisheye"`, and `"telephoto"`.</p></dd>


<dt>preview</dt>
<dd><p>Default `TRUE`. Whether to display a real-time progressive preview of the render. Press ESC to cancel the render.</p></dd>


<dt>interactive</dt>
<dd><p>Default `interactive()`. Whether the scene preview should be interactive. Camera movement orbits around the 
lookat point (unless the mode is switched to free flying), with the following control mapping:
W = Forward, S = Backward, A = Left, D = Right, Q = Up, Z = Down, 
E = 2x Step Distance (max 128), C = 0.5x Step Distance, Up Key = Zoom In (decrease FOV), Down Key = Zoom Out (increase FOV),
Left Key = Decrease Aperture, Right Key = Increase Aperture, 1 = Decrease Focal Distance, 2 = Increase Focal Distance,
3/4 = Rotate Environment Light, 
R = Reset Camera, TAB: Toggle Orbit Mode, Left Mouse Click: Change Look Direction, Right Mouse Click: Change Look At 
K: Save Keyframe (at the conclusion of the render, this will create the `ray_keyframes`
data.frame in the global environment, which can be passed to `generate_camera_motion()` to tween between those saved positions.
L: Reset Camera to Last Keyframe (if set) F: Toggle Fast Travel Mode</p>
<p>Initial step size is 1/20th of the distance from `lookat` to `lookfrom`.</p>
<p>Note: Clicking on the environment image will only redirect the view direction, not change the orbit point.
Some options aren't available all cameras. When using a realistic camera,
the aperture and field of view cannot be changed from their initial settings. Additionally,
clicking to direct the camera at the background environment image while using a realistic camera will
not always point to the exact position selected.</p></dd>


<dt>camera_scale</dt>
<dd><p>Default `1`. Amount to scale the camera up or down in size. Use this rather than scaling a 
scene.</p></dd>


<dt>iso</dt>
<dd><p>Default `100`. Camera exposure.</p></dd>


<dt>film_size</dt>
<dd><p>Default `22`, in `mm` (scene units in `m`. Size of the film if using a realistic camera, otherwise
ignored.</p></dd>


<dt>min_variance</dt>
<dd><p>Default `0.00005`. Minimum acceptable variance for a block of pixels for the 
adaptive sampler. Smaller numbers give higher quality images, at the expense of longer rendering times.
If this is set to zero, the adaptive sampler will be turned off and the renderer
will use the maximum number of samples everywhere.</p></dd>


<dt>min_adaptive_size</dt>
<dd><p>Default `8`. Width of the minimum block size in the adaptive sampler.</p></dd>


<dt>sample_method</dt>
<dd><p>Default `sobol`. The type of sampling method used to generate
random numbers. The other options are `random` (worst quality but fastest), 
`stratified` (only implemented for completion), `sobol_blue` (best option for sample counts below 256), 
and `sobol` (slowest but best quality, better than `sobol_blue` for sample counts greater than 256).</p></dd>


<dt>max_depth</dt>
<dd><p>Default `NA`, automatically sets to 50. Maximum number of bounces a ray can make in a scene. Alternatively,
if a debugging option is chosen, this sets the bounce to query the debugging parameter (only for some options).</p></dd>


<dt>roulette_active_depth</dt>
<dd><p>Default `100`. Number of ray bounces until a ray can stop bouncing via
Russian roulette.</p></dd>


<dt>ambient_light</dt>
<dd><p>Default `FALSE`, unless there are no emitting objects in the scene. 
If `TRUE`, the background will be a gradient varying from `backgroundhigh` directly up (+y) to 
`backgroundlow` directly down (-y).</p></dd>


<dt>lookfrom</dt>
<dd><p>Default `c(0,1,10)`. Location of the camera.</p></dd>


<dt>lookat</dt>
<dd><p>Default `c(0,0,0)`. Location where the camera is pointed.</p></dd>


<dt>camera_up</dt>
<dd><p>Default `c(0,1,0)`. Vector indicating the "up" position of the camera.</p></dd>


<dt>aperture</dt>
<dd><p>Default `0.1`. Aperture of the camera. Smaller numbers will increase depth of field, causing
less blurring in areas not in focus.</p></dd>


<dt>clamp_value</dt>
<dd><p>Default `Inf`. If a bright light or a reflective material is in the scene, occasionally
there will be bright spots that will not go away even with a large number of samples. These 
can be removed (at the cost of slightly darkening the image) by setting this to a small number greater than 1.</p></dd>


<dt>filename</dt>
<dd><p>Default `NULL`. If present, the renderer will write to the filename instead
of the current device.</p></dd>


<dt>backgroundhigh</dt>
<dd><p>Default `#80b4ff`. The "high" color in the background gradient. Can be either
a hexadecimal code, or a numeric rgb vector listing three intensities between `0` and `1`.</p></dd>


<dt>backgroundlow</dt>
<dd><p>Default `#ffffff`. The "low" color in the background gradient. Can be either
a hexadecimal code, or a numeric rgb vector listing three intensities between `0` and `1`.</p></dd>


<dt>shutteropen</dt>
<dd><p>Default `0`. Time at which the shutter is open. Only affects moving objects.</p></dd>


<dt>shutterclose</dt>
<dd><p>Default `1`. Time at which the shutter is open. Only affects moving objects.</p></dd>


<dt>focal_distance</dt>
<dd><p>Default `NULL`, automatically set to the `lookfrom-lookat` distance unless
otherwise specified.</p></dd>


<dt>ortho_dimensions</dt>
<dd><p>Default `c(1,1)`. Width and height of the orthographic camera. Will only be used if `fov = 0`.</p></dd>


<dt>tonemap</dt>
<dd><p>Default `gamma`. Choose the tone mapping function,
Default `gamma` solely adjusts for gamma and clamps values greater than 1 to 1. 
`reinhold` scales values by their individual color channels `color/(1+color)` and then performs the 
gamma adjustment. `uncharted` uses the mapping developed for Uncharted 2 by John Hable. `hbd` uses an
optimized formula by Jim Hejl and Richard Burgess-Dawson. If `raw`, the raw array of HDR values will be
returned, rather than an image or a plot.</p></dd>


<dt>bloom</dt>
<dd><p>Default `TRUE`. Set to `FALSE` to get the raw, pathtraced image. Otherwise,
this performs a convolution of the HDR image of the scene with a sharp, long-tailed
exponential kernel, which does not visibly affect dimly pixels, but does result in emitters light
slightly bleeding into adjacent pixels. This provides an antialiasing effect for lights, even when
tonemapping the image. Pass in a matrix to specify the convolution kernel manually, or a positive number
to control the intensity of the bloom (higher number = more bloom).</p></dd>


<dt>parallel</dt>
<dd><p>Default `FALSE`. If `TRUE`, it will use all available cores to render the image
(or the number specified in `options("cores")` if that option is not `NULL`).</p></dd>


<dt>bvh_type</dt>
<dd><p>Default `"sah"`, "surface area heuristic". Method of building the bounding volume
hierarchy structure used when rendering. Other option is "equal", which splits tree into groups
of equal size.</p></dd>


<dt>environment_light</dt>
<dd><p>Default `NULL`. An image to be used for the background for rays that escape
the scene. Supports both HDR (`.hdr`) and low-dynamic range (`.png`, `.jpg`) images.</p></dd>


<dt>rotate_env</dt>
<dd><p>Default `0`. The number of degrees to rotate the environment map around the scene.</p></dd>


<dt>intensity_env</dt>
<dd><p>Default `1`. The amount to increase the intensity of the environment lighting. Useful
if using a LDR (JPEG or PNG) image as an environment map.</p></dd>


<dt>debug_channel</dt>
<dd><p>Default `none`. If `depth`, function will return a depth map of rays into the scene 
instead of an image. If `normals`, function will return an image of scene normals, mapped from 0 to 1.
If `uv`, function will return an image of the uv coords. If `variance`, function will return an image 
showing the number of samples needed to take for each block to converge. If `dpdu` or `dpdv`, function will return
an image showing the differential `u` and `u` coordinates. If `color`, function will return the raw albedo
values (with white for `metal` and `dielectric` materials).</p></dd>


<dt>return_raw_array</dt>
<dd><p>Default `FALSE`. If `TRUE`, function will return raw array with RGB intensity
information.</p></dd>


<dt>progress</dt>
<dd><p>Default `TRUE` if interactive session, `FALSE` otherwise.</p></dd>


<dt>verbose</dt>
<dd><p>Default `FALSE`. Prints information and timing information about scene
construction and raytracing progress.</p></dd>


<dt>new_page</dt>
<dd><p>Default `TRUE`. Whether to call `grid::grid.newpage()` when plotting the image (if
no filename specified). Set to `FALSE` for faster plotting (does not affect render time).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Raytraced plot to current device, or an image saved to a file. Invisibly returns the
array (containing either debug data or the RGB)</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#Generate a large checkered sphere as the ground</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayrender</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">scene</span> <span class="op">=</span> <span class="fu"><a href="generate_ground.html">generate_ground</a></span><span class="op">(</span>depth<span class="op">=</span><span class="op">-</span><span class="fl">0.5</span>, material <span class="op">=</span> <span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"white"</span>, checkercolor<span class="op">=</span><span class="st">"darkgreen"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">render_scene</span><span class="op">(</span><span class="va">scene</span>,parallel<span class="op">=</span><span class="cn">TRUE</span>,samples<span class="op">=</span><span class="fl">128</span>,sample_method<span class="op">=</span><span class="st">"sobol"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="render_scene-1.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayrender</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">#Add a sphere to the center</span></span></span>
<span class="r-in"><span><span class="va">scene</span> <span class="op">=</span> <span class="va">scene</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="sphere.html">sphere</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">0</span>,y<span class="op">=</span><span class="fl">0</span>,z<span class="op">=</span><span class="fl">0</span>,radius<span class="op">=</span><span class="fl">0.5</span>,material <span class="op">=</span> <span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>color<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">render_scene</span><span class="op">(</span><span class="va">scene</span>,fov<span class="op">=</span><span class="fl">20</span>,parallel<span class="op">=</span><span class="cn">TRUE</span>,samples<span class="op">=</span><span class="fl">128</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="render_scene-2.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayrender</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">#Add a marbled cube </span></span></span>
<span class="r-in"><span><span class="va">scene</span> <span class="op">=</span> <span class="va">scene</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="cube.html">cube</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">1.1</span>,y<span class="op">=</span><span class="fl">0</span>,z<span class="op">=</span><span class="fl">0</span>,material <span class="op">=</span> <span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>noise<span class="op">=</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">render_scene</span><span class="op">(</span><span class="va">scene</span>,fov<span class="op">=</span><span class="fl">20</span>,parallel<span class="op">=</span><span class="cn">TRUE</span>,samples<span class="op">=</span><span class="fl">128</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="render_scene-3.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayrender</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">#Add a metallic gold sphere, using stratified sampling for a higher quality render</span></span></span>
<span class="r-in"><span><span class="va">scene</span> <span class="op">=</span> <span class="va">scene</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="sphere.html">sphere</a></span><span class="op">(</span>x<span class="op">=</span><span class="op">-</span><span class="fl">1.1</span>,y<span class="op">=</span><span class="fl">0</span>,z<span class="op">=</span><span class="fl">0</span>,radius<span class="op">=</span><span class="fl">0.5</span>,material <span class="op">=</span> <span class="fu"><a href="metal.html">metal</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"gold"</span>,fuzz<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">render_scene</span><span class="op">(</span><span class="va">scene</span>,fov<span class="op">=</span><span class="fl">20</span>,parallel<span class="op">=</span><span class="cn">TRUE</span>,samples<span class="op">=</span><span class="fl">128</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="render_scene-4.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayrender</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">#Lower the number of samples to render more quickly (here, we also use only one core).</span></span></span>
<span class="r-in"><span><span class="fu">render_scene</span><span class="op">(</span><span class="va">scene</span>, samples<span class="op">=</span><span class="fl">4</span>, parallel<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="render_scene-5.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayrender</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">#Add a floating R plot using the iris dataset as a png onto a floating 2D rectangle</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">tempfileplot</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/grDevices/png.html" class="external-link">png</a></span><span class="op">(</span>filename<span class="op">=</span><span class="va">tempfileplot</span>,height<span class="op">=</span><span class="fl">400</span>,width<span class="op">=</span><span class="fl">800</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Petal.Length</span>,<span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Width</span>,col<span class="op">=</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span>,pch<span class="op">=</span><span class="fl">18</span>,cex<span class="op">=</span><span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html" class="external-link">dev.off</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">image_array</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/aperm.html" class="external-link">aperm</a></span><span class="op">(</span><span class="fu">png</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/png/man/readPNG.html" class="external-link">readPNG</a></span><span class="op">(</span><span class="va">tempfileplot</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">scene</span> <span class="op">=</span> <span class="va">scene</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="xy_rect.html">xy_rect</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">0</span>,y<span class="op">=</span><span class="fl">1.1</span>,z<span class="op">=</span><span class="fl">0</span>,xwidth<span class="op">=</span><span class="fl">2</span>,angle <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">180</span>,<span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                     material <span class="op">=</span> <span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>image_texture <span class="op">=</span> <span class="va">image_array</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">render_scene</span><span class="op">(</span><span class="va">scene</span>,fov<span class="op">=</span><span class="fl">20</span>,parallel<span class="op">=</span><span class="cn">TRUE</span>,samples<span class="op">=</span><span class="fl">128</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="render_scene-6.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayrender</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">#Move the camera</span></span></span>
<span class="r-in"><span><span class="fu">render_scene</span><span class="op">(</span><span class="va">scene</span>,lookfrom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span>,<span class="fl">1.5</span>,<span class="fl">10</span><span class="op">)</span>,lookat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0.5</span>,<span class="fl">0</span><span class="op">)</span>,fov<span class="op">=</span><span class="fl">15</span>,parallel<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="render_scene-7.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayrender</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">#Change the background gradient to a night time ambiance</span></span></span>
<span class="r-in"><span><span class="fu">render_scene</span><span class="op">(</span><span class="va">scene</span>,lookfrom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span>,<span class="fl">1.5</span>,<span class="fl">10</span><span class="op">)</span>,lookat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0.5</span>,<span class="fl">0</span><span class="op">)</span>,fov<span class="op">=</span><span class="fl">15</span>,</span></span>
<span class="r-in"><span>             backgroundhigh <span class="op">=</span> <span class="st">"#282375"</span>, backgroundlow <span class="op">=</span> <span class="st">"#7e77ea"</span>, parallel<span class="op">=</span><span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>             samples<span class="op">=</span><span class="fl">128</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="render_scene-8.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayrender</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>    </span></span>
<span class="r-in"><span><span class="co">#Increase the aperture to blur objects that are further from the focal plane.</span></span></span>
<span class="r-in"><span><span class="fu">render_scene</span><span class="op">(</span><span class="va">scene</span>,lookfrom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span>,<span class="fl">1.5</span>,<span class="fl">10</span><span class="op">)</span>,lookat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0.5</span>,<span class="fl">0</span><span class="op">)</span>,fov<span class="op">=</span><span class="fl">15</span>,</span></span>
<span class="r-in"><span>             aperture <span class="op">=</span> <span class="fl">0.5</span>,parallel<span class="op">=</span><span class="cn">TRUE</span>,samples<span class="op">=</span><span class="fl">128</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="render_scene-9.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayrender</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">#We can also capture a 360 environment image by setting `fov = 360` (can be used for VR)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="generate_cornell.html">generate_cornell</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="ellipsoid.html">ellipsoid</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">555</span><span class="op">/</span><span class="fl">2</span>,y<span class="op">=</span><span class="fl">100</span>,z<span class="op">=</span><span class="fl">555</span><span class="op">/</span><span class="fl">2</span>,a<span class="op">=</span><span class="fl">50</span>,b<span class="op">=</span><span class="fl">100</span>,c<span class="op">=</span><span class="fl">50</span>, </span></span>
<span class="r-in"><span>             material <span class="op">=</span> <span class="fu"><a href="metal.html">metal</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"lightblue"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="cube.html">cube</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">100</span>,y<span class="op">=</span><span class="fl">130</span><span class="op">/</span><span class="fl">2</span>,z<span class="op">=</span><span class="fl">200</span>,xwidth <span class="op">=</span> <span class="fl">130</span>,ywidth<span class="op">=</span><span class="fl">130</span>,zwidth <span class="op">=</span> <span class="fl">130</span>,</span></span>
<span class="r-in"><span>                  material<span class="op">=</span><span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>checkercolor<span class="op">=</span><span class="st">"purple"</span>, </span></span>
<span class="r-in"><span>                                   checkerperiod <span class="op">=</span> <span class="fl">30</span><span class="op">)</span>,angle<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">10</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="pig.html">pig</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">100</span>,y<span class="op">=</span><span class="fl">190</span>,z<span class="op">=</span><span class="fl">200</span>,scale<span class="op">=</span><span class="fl">40</span>,angle<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">30</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="sphere.html">sphere</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">420</span>,y<span class="op">=</span><span class="fl">555</span><span class="op">/</span><span class="fl">8</span>,z<span class="op">=</span><span class="fl">100</span>,radius<span class="op">=</span><span class="fl">555</span><span class="op">/</span><span class="fl">8</span>,</span></span>
<span class="r-in"><span>                    material <span class="op">=</span> <span class="fu"><a href="dielectric.html">dielectric</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"orange"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="xz_rect.html">xz_rect</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">555</span><span class="op">/</span><span class="fl">2</span>,z<span class="op">=</span><span class="fl">555</span><span class="op">/</span><span class="fl">2</span>, y<span class="op">=</span><span class="fl">1</span>,xwidth<span class="op">=</span><span class="fl">555</span>,zwidth<span class="op">=</span><span class="fl">555</span>,</span></span>
<span class="r-in"><span>                     material <span class="op">=</span> <span class="fu"><a href="glossy.html">glossy</a></span><span class="op">(</span>checkercolor <span class="op">=</span> <span class="st">"white"</span>,</span></span>
<span class="r-in"><span>                                       checkerperiod<span class="op">=</span><span class="fl">10</span>,color<span class="op">=</span><span class="st">"dodgerblue"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">render_scene</span><span class="op">(</span>lookfrom<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">278</span>,<span class="fl">278</span>,<span class="fl">30</span><span class="op">)</span>, lookat<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">278</span>,<span class="fl">278</span>,<span class="fl">500</span><span class="op">)</span>, clamp_value<span class="op">=</span><span class="fl">10</span>,</span></span>
<span class="r-in"><span>               fov <span class="op">=</span> <span class="fl">360</span>,  samples <span class="op">=</span> <span class="fl">128</span>, width<span class="op">=</span><span class="fl">800</span>, height<span class="op">=</span><span class="fl">800</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="render_scene-10.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayrender</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">#We can also use a realistic camera by specifying a camera description file (several of which</span></span></span>
<span class="r-in"><span><span class="co">#are built-in to rayrender. Note the curvature introduced by the fisheye lens:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="generate_cornell.html">generate_cornell</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="ellipsoid.html">ellipsoid</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">555</span><span class="op">/</span><span class="fl">2</span>,y<span class="op">=</span><span class="fl">100</span>,z<span class="op">=</span><span class="fl">555</span><span class="op">/</span><span class="fl">2</span>,a<span class="op">=</span><span class="fl">50</span>,b<span class="op">=</span><span class="fl">100</span>,c<span class="op">=</span><span class="fl">50</span>, </span></span>
<span class="r-in"><span>             material <span class="op">=</span> <span class="fu"><a href="metal.html">metal</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"lightblue"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="cube.html">cube</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">100</span>,y<span class="op">=</span><span class="fl">130</span><span class="op">/</span><span class="fl">2</span>,z<span class="op">=</span><span class="fl">200</span>,xwidth <span class="op">=</span> <span class="fl">130</span>,ywidth<span class="op">=</span><span class="fl">130</span>,zwidth <span class="op">=</span> <span class="fl">130</span>,</span></span>
<span class="r-in"><span>                  material<span class="op">=</span><span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>checkercolor<span class="op">=</span><span class="st">"purple"</span>, </span></span>
<span class="r-in"><span>                                   checkerperiod <span class="op">=</span> <span class="fl">30</span><span class="op">)</span>,angle<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">10</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="pig.html">pig</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">100</span>,y<span class="op">=</span><span class="fl">190</span>,z<span class="op">=</span><span class="fl">200</span>,scale<span class="op">=</span><span class="fl">40</span>,angle<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">30</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="sphere.html">sphere</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">420</span>,y<span class="op">=</span><span class="fl">555</span><span class="op">/</span><span class="fl">8</span>,z<span class="op">=</span><span class="fl">100</span>,radius<span class="op">=</span><span class="fl">555</span><span class="op">/</span><span class="fl">8</span>,</span></span>
<span class="r-in"><span>                    material <span class="op">=</span> <span class="fu"><a href="dielectric.html">dielectric</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"orange"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="xz_rect.html">xz_rect</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">555</span><span class="op">/</span><span class="fl">2</span>,z<span class="op">=</span><span class="fl">555</span><span class="op">/</span><span class="fl">2</span>, y<span class="op">=</span><span class="fl">1</span>,xwidth<span class="op">=</span><span class="fl">555</span>,zwidth<span class="op">=</span><span class="fl">555</span>,</span></span>
<span class="r-in"><span>                     material <span class="op">=</span> <span class="fu"><a href="glossy.html">glossy</a></span><span class="op">(</span>checkercolor <span class="op">=</span> <span class="st">"white"</span>,</span></span>
<span class="r-in"><span>                                       checkerperiod<span class="op">=</span><span class="fl">10</span>,color<span class="op">=</span><span class="st">"dodgerblue"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">render_scene</span><span class="op">(</span>lookfrom<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">278</span>,<span class="fl">278</span>,<span class="op">-</span><span class="fl">300</span><span class="op">)</span>, lookat<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">278</span>,<span class="fl">278</span>,<span class="fl">500</span><span class="op">)</span>, clamp_value<span class="op">=</span><span class="fl">10</span>,</span></span>
<span class="r-in"><span>               aperture<span class="op">=</span><span class="fl">1</span>, iso <span class="op">=</span> <span class="fl">100000</span>,</span></span>
<span class="r-in"><span>               camera_description_file <span class="op">=</span> <span class="st">"fisheye"</span>, samples <span class="op">=</span> <span class="fl">128</span>, width<span class="op">=</span><span class="fl">800</span>, height<span class="op">=</span><span class="fl">400</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="render_scene-11.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayrender</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>            </span></span>
<span class="r-in"><span><span class="co">#Spin the camera around the scene, decreasing the number of samples to render faster. To make </span></span></span>
<span class="r-in"><span><span class="co">#an animation, specify the a filename in `render_scene` for each frame and use the `av` package</span></span></span>
<span class="r-in"><span><span class="co">#or ffmpeg to combine them all into a movie.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">t</span><span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">30</span> </span></span>
<span class="r-in"><span><span class="va">xpos</span> <span class="op">=</span> <span class="fl">10</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html" class="external-link">sin</a></span><span class="op">(</span><span class="va">t</span><span class="op">*</span><span class="fl">12</span><span class="op">*</span><span class="va">pi</span><span class="op">/</span><span class="fl">180</span><span class="op">+</span><span class="va">pi</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">zpos</span> <span class="op">=</span> <span class="fl">10</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html" class="external-link">cos</a></span><span class="op">(</span><span class="va">t</span><span class="op">*</span><span class="fl">12</span><span class="op">*</span><span class="va">pi</span><span class="op">/</span><span class="fl">180</span><span class="op">+</span><span class="va">pi</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#Save old par() settings</span></span></span>
<span class="r-in"><span><span class="va">old.par</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>no.readonly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/on.exit.html" class="external-link">on.exit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="va">old.par</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">30</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span> <span class="fu">render_scene</span><span class="op">(</span><span class="va">scene</span>, samples<span class="op">=</span><span class="fl">16</span>, </span></span>
<span class="r-in"><span>   lookfrom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">xpos</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>,<span class="fl">1.5</span>,<span class="va">zpos</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span>,lookat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0.5</span>,<span class="fl">0</span><span class="op">)</span>, parallel<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="render_scene-12.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-13.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-14.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-15.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-16.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-17.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-18.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-19.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-20.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-21.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-22.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-23.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-24.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-25.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-26.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-27.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-28.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-29.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-30.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-31.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-32.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-33.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-34.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-35.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-36.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-37.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-38.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-39.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-40.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_scene-41.png" alt="" width="768" height="768"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://www.tylermw.com" class="external-link">Tyler Morgan-Wall</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

