<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Generate Camera Movement — generate_camera_motion • rayrender</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Generate Camera Movement — generate_camera_motion"><meta property="og:description" content="Takes a series of key frame camera positions and smoothly interpolates between them. Generates
a data.frame that can be passed to `render_animation()`."><meta property="og:image" content="/reference/figures/website_rayrender.jpg"><meta property="og:image:alt" content="Picture of a golden 3D ggplot with a description of rayrender"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@tylermorganwall"><meta name="twitter:site" content="@tylermorganwall"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rayrender</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.29.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tutorials/Demos
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://www.tylermw.com/polar-ice-data-in-r-with-rayrender/" class="external-link">How to Download and Animate Polar Ice Data in R with Rayrender</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/plinko-statistics-insights-from-the-bean-machine/" class="external-link">Plinko Statistics-Insights from the Bean Machine</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/loading-and-visualizing-opensky-network-data-in-r/" class="external-link">Loading and Visualizing OpenSky Network Flight Data in R</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/raybonsai-generate-procedural-3d-trees-in-r/" class="external-link">Generating Procedural 3D Trees with Raybonsai and Rayrender</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/pathtracing-neon-landscapes-in-r/" class="external-link">Pathtracing Neon Landscapes in R</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/raytracing-lenticular-gifs/" class="external-link">Raytracing Lenticular Gifs with rayrender</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/getting-started-with-rayrender/" class="external-link">Getting Stated with Rayrender--Forging the R Sword</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/tylermorganwall/rayrender" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate Camera Movement</h1>
    <small class="dont-index">Source: <a href="https://github.com/tylermorganwall/rayrender/blob/HEAD/R/generate_camera_motion.R" class="external-link"><code>R/generate_camera_motion.R</code></a></small>
    <div class="hidden name"><code>generate_camera_motion.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Takes a series of key frame camera positions and smoothly interpolates between them. Generates
a data.frame that can be passed to `render_animation()`.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">generate_camera_motion</span><span class="op">(</span></span>
<span>  <span class="va">positions</span>,</span>
<span>  lookats <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  apertures <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  fovs <span class="op">=</span> <span class="fl">40</span>,</span>
<span>  focal_distances <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ortho_dims <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  camera_ups <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"cubic"</span>,</span>
<span>  frames <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  closed <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  aperture_linear <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  fov_linear <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  focal_linear <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ortho_linear <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  constant_step <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  curvature_adjust <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>  curvature_scale <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  offset_lookat <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  damp_motion <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  damp_magnitude <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  progress <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>positions</dt>
<dd><p>A list or 3-column XYZ matrix of camera positions. 
These will serve as key frames for the camera position. Alternatively, this can also be the a 
dataframe of the keyframe output from an interactive rayrender session (`ray_keyframes`).</p></dd>


<dt>lookats</dt>
<dd><p>Default `NULL`, which sets the camera lookat to the origin `c(0,0,0)` 
for the animation. A list or 3-column XYZ matrix
of `lookat` points. Must be the same number of points as `positions`.</p></dd>


<dt>apertures</dt>
<dd><p>Default `0`. A numeric vector of aperture values.</p></dd>


<dt>fovs</dt>
<dd><p>Default `40`. A numeric vector of field of view values.</p></dd>


<dt>focal_distances</dt>
<dd><p>Default `NULL`, automatically the distance between positions and lookats. 
Numeric vector of focal distances.</p></dd>


<dt>ortho_dims</dt>
<dd><p>Default `NULL`, which results in `c(1,1)` orthographic dimensions.  A list or 2-column matrix
of orthographic dimensions.</p></dd>


<dt>camera_ups</dt>
<dd><p>Default `NULL`, which gives at up vector of `c(0,1,0)`. Camera up orientation.</p></dd>


<dt>type</dt>
<dd><p>Default `cubic`. Type of transition between keyframes. 
Other options are `linear`, `quad`, `bezier`, `exp`, and `manual`. `manual` just returns the values 
passed in, properly formatted to be passed to `render_animation()`.</p></dd>


<dt>frames</dt>
<dd><p>Default `30`. Total number of frames.</p></dd>


<dt>closed</dt>
<dd><p>Default `FALSE`. Whether to close the camera curve so the first position matches the last. Set this to `TRUE` for perfect loops.</p></dd>


<dt>aperture_linear</dt>
<dd><p>Default `TRUE`. This linearly interpolates focal distances, rather than using a smooth Bezier curve  or easing function.</p></dd>


<dt>fov_linear</dt>
<dd><p>Default `TRUE`. This linearly interpolates focal distances, rather than using a smooth Bezier curve  or easing function.</p></dd>


<dt>focal_linear</dt>
<dd><p>Default `TRUE`. This linearly interpolates focal distances, rather than using a smooth Bezier curve or easing function.</p></dd>


<dt>ortho_linear</dt>
<dd><p>Default `TRUE`. This linearly interpolates orthographic dimensions, rather than using a smooth Bezier curve or easing function.</p></dd>


<dt>constant_step</dt>
<dd><p>Default `TRUE`. This will make the camera travel at a constant speed.</p></dd>


<dt>curvature_adjust</dt>
<dd><p>Default `none`. Other options are `position`, `lookat`, and `both`. Whether to slow down the camera at areas of high curvature
to prevent fast swings. Only used for curve `type = bezier`. This does not preserve key frame positions.
Note: This feature will likely result in the `lookat` and `position` diverging if they do not 
have similar curvatures at each point. This feature is best used when passing the same set of points to `positions` and `lookats` 
and providing an `offset_lookat` value, which ensures the curvature will be the same.</p></dd>


<dt>curvature_scale</dt>
<dd><p>Default `30`. Constant dividing factor for curvature. Higher values will subdivide the
path more, potentially finding a smoother path, but increasing the calculation time. Only used for curve `type = bezier`.
Increasing this value after a certain point will not increase the quality of the path, but it is scene-dependent.</p></dd>


<dt>offset_lookat</dt>
<dd><p>Default `0`. Amount to offset the lookat position, either along the path (if `constant_step = TRUE`)
or towards the derivative of the Bezier curve.</p></dd>


<dt>damp_motion</dt>
<dd><p>Default `FALSE`. Whether to damp the motion of the camera, so that quick movements are damped
and don't result in shakey motion. This function tracks the current position, and linearly interpolates between
that point and the next point using value `damp_magnitude`. 
The equation for the position is `cam_current = cam_current * damp_magnitude + cam_next_point * (1 - damp_magnitude)`.</p></dd>


<dt>damp_magnitude</dt>
<dd><p>Default `0.1`. Amount to damp the motion, a numeric value greater than `0` (no damping) and
less than `1`.</p></dd>


<dt>progress</dt>
<dd><p>Default `TRUE`. Whether to display a progress bar.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Data frame of camera positions, orientations, apertures, focal distances, and field of views</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#Create and animate flying through a scene on a simulated roller coaster</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayrender</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">elliplist</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ellip_colors</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">rainbow</a></span><span class="op">(</span><span class="fl">8</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">1200</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">elliplist</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="ellipsoid.html">ellipsoid</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">10</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">-</span><span class="fl">5</span>,y<span class="op">=</span><span class="fl">10</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">-</span><span class="fl">5</span>,z<span class="op">=</span><span class="fl">10</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">-</span><span class="fl">5</span>,</span></span>
<span class="r-in"><span>                             angle <span class="op">=</span> <span class="fl">360</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>, a<span class="op">=</span><span class="fl">0.1</span>,b<span class="op">=</span><span class="fl">0.05</span>,c<span class="op">=</span><span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>                             material<span class="op">=</span><span class="fu"><a href="glossy.html">glossy</a></span><span class="op">(</span>color<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">ellip_colors</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="va">ellip_scene</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="va">elliplist</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">camera_pos</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">15</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="op">-</span><span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">5</span>,<span class="fl">5</span>,<span class="op">-</span><span class="fl">5</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span>,<span class="op">-</span><span class="fl">15</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Plot the camera path and render from above using the path object:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="generate_ground.html">generate_ground</a></span><span class="op">(</span>material<span class="op">=</span><span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>checkercolor<span class="op">=</span><span class="st">"grey20"</span><span class="op">)</span>,depth<span class="op">=</span><span class="op">-</span><span class="fl">10</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="va">ellip_scene</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="sphere.html">sphere</a></span><span class="op">(</span>y<span class="op">=</span><span class="fl">50</span>,radius<span class="op">=</span><span class="fl">10</span>,material<span class="op">=</span><span class="fu"><a href="light.html">light</a></span><span class="op">(</span>intensity<span class="op">=</span><span class="fl">30</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="path.html">path</a></span><span class="op">(</span><span class="va">camera_pos</span>, material<span class="op">=</span><span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"red"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="render_scene.html">render_scene</a></span><span class="op">(</span>lookfrom<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">20</span>,<span class="fl">0</span><span class="op">)</span>, width<span class="op">=</span><span class="fl">800</span>,height<span class="op">=</span><span class="fl">800</span>,samples<span class="op">=</span><span class="fl">32</span>,</span></span>
<span class="r-in"><span>               camera_up <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               fov<span class="op">=</span><span class="fl">80</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="generate_camera_motion-1.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayrender</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span> </span></span>
<span class="r-in"><span><span class="co">#Side view     </span></span></span>
<span class="r-in"><span><span class="fu"><a href="generate_ground.html">generate_ground</a></span><span class="op">(</span>material<span class="op">=</span><span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>checkercolor<span class="op">=</span><span class="st">"grey20"</span><span class="op">)</span>,depth<span class="op">=</span><span class="op">-</span><span class="fl">10</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="va">ellip_scene</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="sphere.html">sphere</a></span><span class="op">(</span>y<span class="op">=</span><span class="fl">50</span>,radius<span class="op">=</span><span class="fl">10</span>,material<span class="op">=</span><span class="fu"><a href="light.html">light</a></span><span class="op">(</span>intensity<span class="op">=</span><span class="fl">30</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="path.html">path</a></span><span class="op">(</span><span class="va">camera_pos</span>, material<span class="op">=</span><span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"red"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="render_scene.html">render_scene</a></span><span class="op">(</span>lookfrom<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>,<span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span>,width<span class="op">=</span><span class="fl">800</span>,height<span class="op">=</span><span class="fl">800</span>,samples<span class="op">=</span><span class="fl">32</span>,</span></span>
<span class="r-in"><span>                 fov<span class="op">=</span><span class="fl">80</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="op">}</span></span></span>
<span class="r-plt img"><img src="generate_camera_motion-2.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayrender</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">#View from the start        </span></span></span>
<span class="r-in"><span><span class="fu"><a href="generate_ground.html">generate_ground</a></span><span class="op">(</span>material<span class="op">=</span><span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>checkercolor<span class="op">=</span><span class="st">"grey20"</span><span class="op">)</span>,depth<span class="op">=</span><span class="op">-</span><span class="fl">10</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="va">ellip_scene</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="sphere.html">sphere</a></span><span class="op">(</span>y<span class="op">=</span><span class="fl">50</span>,radius<span class="op">=</span><span class="fl">10</span>,material<span class="op">=</span><span class="fu"><a href="light.html">light</a></span><span class="op">(</span>intensity<span class="op">=</span><span class="fl">30</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="path.html">path</a></span><span class="op">(</span><span class="va">camera_pos</span>, material<span class="op">=</span><span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"red"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="render_scene.html">render_scene</a></span><span class="op">(</span>lookfrom<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1.5</span>,<span class="fl">16</span><span class="op">)</span>,width<span class="op">=</span><span class="fl">800</span>,height<span class="op">=</span><span class="fl">800</span>,samples<span class="op">=</span><span class="fl">32</span>,</span></span>
<span class="r-in"><span>                 fov<span class="op">=</span><span class="fl">80</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="op">}</span></span></span>
<span class="r-plt img"><img src="generate_camera_motion-3.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayrender</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>  </span></span>
<span class="r-in"><span><span class="co">#Generate Camera movement, setting the lookat position to be same as camera position, but offset</span></span></span>
<span class="r-in"><span><span class="co">#slightly in front. We'll render 12 frames, but you'd likely want more in a real animation.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">camera_motion</span> <span class="op">=</span>  <span class="fu">generate_camera_motion</span><span class="op">(</span>positions <span class="op">=</span> <span class="va">camera_pos</span>, lookats <span class="op">=</span> <span class="va">camera_pos</span>, </span></span>
<span class="r-in"><span>                                        offset_lookat <span class="op">=</span> <span class="fl">1</span>, fovs<span class="op">=</span><span class="fl">80</span>, frames<span class="op">=</span><span class="fl">12</span>,</span></span>
<span class="r-in"><span>                                        type<span class="op">=</span><span class="st">"bezier"</span><span class="op">)</span> </span></span>
<span class="r-in"><span>                                        </span></span>
<span class="r-in"><span><span class="co">#This returns a data frame of individual camera positions, interpolated by cubic bezier curves.</span></span></span>
<span class="r-in"><span><span class="va">camera_motion</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Pass NA filename to plot to the device. We'll keep the path and offset it slightly to see</span></span></span>
<span class="r-in"><span><span class="co">#where we're going. This results in a "roller coaster" effect.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="generate_ground.html">generate_ground</a></span><span class="op">(</span>material<span class="op">=</span><span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>checkercolor<span class="op">=</span><span class="st">"grey20"</span><span class="op">)</span>,depth<span class="op">=</span><span class="op">-</span><span class="fl">10</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="va">ellip_scene</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="sphere.html">sphere</a></span><span class="op">(</span>y<span class="op">=</span><span class="fl">50</span>,radius<span class="op">=</span><span class="fl">10</span>,material<span class="op">=</span><span class="fu"><a href="light.html">light</a></span><span class="op">(</span>intensity<span class="op">=</span><span class="fl">30</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="obj_model.html">obj_model</a></span><span class="op">(</span><span class="fu"><a href="r_obj.html">r_obj</a></span><span class="op">(</span><span class="op">)</span>,x<span class="op">=</span><span class="fl">10</span>,y<span class="op">=</span><span class="op">-</span><span class="fl">10</span>,scale_obj<span class="op">=</span><span class="fl">3</span>, angle<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="op">-</span><span class="fl">45</span>,<span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       material<span class="op">=</span><span class="fu"><a href="dielectric.html">dielectric</a></span><span class="op">(</span>attenuation<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">0.3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="pig.html">pig</a></span><span class="op">(</span>x<span class="op">=</span><span class="op">-</span><span class="fl">7</span>,y<span class="op">=</span><span class="fl">10</span>,z<span class="op">=</span><span class="op">-</span><span class="fl">5</span>,scale<span class="op">=</span><span class="fl">1</span>,angle<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="op">-</span><span class="fl">45</span>,<span class="fl">80</span><span class="op">)</span>,emotion<span class="op">=</span><span class="st">"angry"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="pig.html">pig</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">0</span>,y<span class="op">=</span><span class="op">-</span><span class="fl">0.25</span>,z<span class="op">=</span><span class="op">-</span><span class="fl">15</span>,scale<span class="op">=</span><span class="fl">1</span>,angle<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">225</span>,<span class="op">-</span><span class="fl">20</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 emotion<span class="op">=</span><span class="st">"angry"</span>, spider<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_object.html">add_object</a></span><span class="op">(</span><span class="fu"><a href="path.html">path</a></span><span class="op">(</span><span class="va">camera_pos</span>, y<span class="op">=</span><span class="op">-</span><span class="fl">0.2</span>,material<span class="op">=</span><span class="fu"><a href="diffuse.html">diffuse</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"red"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="render_animation.html">render_animation</a></span><span class="op">(</span>filename <span class="op">=</span> <span class="cn">NA</span>, camera_motion <span class="op">=</span> <span class="va">camera_motion</span>, samples<span class="op">=</span><span class="fl">100</span>,</span></span>
<span class="r-in"><span>                   sample_method<span class="op">=</span><span class="st">"sobol_blue"</span>,  </span></span>
<span class="r-in"><span>                   clamp_value<span class="op">=</span><span class="fl">10</span>, width<span class="op">=</span><span class="fl">400</span>, height<span class="op">=</span><span class="fl">400</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://www.tylermw.com" class="external-link">Tyler Morgan-Wall</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

